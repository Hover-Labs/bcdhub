package metrics

import (
	"encoding/hex"
	"testing"
)

func Test_distance(t *testing.T) {
	type args struct {
		a string
		b string
	}
	tests := []struct {
		name string
		args args
		want int
	}{
		{
			name: "simple 1",
			args: args{
				a: "1122",
				b: "11",
			},
			want: 1,
		}, {
			name: "simple 2",
			args: args{
				a: "11",
				b: "11",
			},
			want: 0,
		}, {
			name: "simple 3",
			args: args{
				a: "",
				b: "11",
			},
			want: 1,
		}, {
			name: "simple 4",
			args: args{
				a: "1234",
				b: "5678",
			},
			want: 2,
		}, {
			name: "simple 5",
			args: args{
				a: "123456",
				b: "12",
			},
			want: 2,
		}, {
			name: "simple 6",
			args: args{
				a: "016169695e68696169695f6d6169696259",
				b: "016169695e68696169695f6d6169696e6259",
			},
			want: 1,
		}, {
			name: "simple 7",
			args: args{
				a: "0221161f172e2e2e21161f171f8c42171717161f134d3d6d4c1b4221161f171f54420c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042422e21161f171f54420c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042422e21161f171f54420c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c20424221161f171f54420c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042422e2e21161f171f54420c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042422e21161f171f54420c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c20424221161f171f54420c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042422e21161f171f54420c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042422e21161f171f54420c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042422e2e2e2e1f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042421f2116436969292f436868270d6e2f4368682748794f4368684227211717172c4f4368684227211f16161f21171f211f16171f211f17164c20424c421f211f16174c204c422116174c1f1f21164c261f211f17164c204217161f21171f211f17164c20421f211f16174c204c423d6d422e1f2116436969292f436868270d6e2f4368682748794f4368684227211717172c4f43686842271f21171f211f16171f211f17164c20424c421f211f16174c204c422117211f1617211f161743590a4c204c424c421f211f16174c204c423d6d421f2116436969292f436868270d6e2f4368682748794f4368684227211717172c4f43686842271f21164c261f211f17164c20423d6d422e2e1f2116436969292f436868270d6e2f4368682748794f4368684227211717172c4f43686842271f21171f211f17164c20421f211f16174c204c423d6d42202116436969292f436868270d6e2f4368682748794f4368684227211717172c4f43686842272117211f1617211f16174359034c204c424c421f211f16174c204c423d6d422e0c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042420c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042422e2e2e0c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042420c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042422e0c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042420c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042422e2e0c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042420c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042422e0c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042422e0c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c2042420c436868421f211717172c4f436868422721161f211716422621161f171f1f211f17164c204242",
				b: "0221161f172e2e2e21161f171f8c42171717161f134d3d6d4c1b4221161f171f54420c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042422e21161f171f54420c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f20424221161f171f54420c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042422e2e21161f171f54420c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f20424221161f171f54420c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042422e21161f171f54420c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042422e2e2e2e1f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042421f2117161748794f4368684227211717172c4f4368684227211f161f214c17171643625b12422121161f17792021161f171f424368684227211721171643625b121f211f16171f211f17161f20424c421f211f16171f204c422117164c1f1f21164c261f211f17161f204217171f21171f211f17161f211f17161f2042421f211f16171f204c423d6d422e1f2117161748794f436868422721171f211f17161f211f16171f204c42421f211f16171f204c423d6d421f2117161748794f4368684227211717172c4f43686842271f214c17171643625b12422121161f17792021161f171f424368684227211743590a1f211f16171f211f16171f204c424c421f211f16171f204c423d6d422e2e1f2117161748794f4368684227211717172c4f43686842271f21164c261f211f17161f20423d6d421f2117161748794f4368684227211717172c4f43686842271f21171f211f17161f211f17161f2042421f211f16171f204c423d6d422e202117161748794f4368684227211717172c4f4368684227211721171643625b121f211f16171f211f17161f20424c421f211f16171f204c4221174359031f211f16171f211f16171f204c424c421f211f16171f204c423d6d422e0c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042420c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042422e2e2e0c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042420c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042422e0c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042420c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042422e2e0c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042420c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042422e0c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042422e0c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f2042420c436868421f211717172c4f436868422721161f21171616422621161f171f1f211f17161f204242",
			},
			want: 340,
		},
	}
	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			x, _ := hex.DecodeString(tt.args.a)
			y, _ := hex.DecodeString(tt.args.b)
			if got := distance(x, y); got != tt.want {
				t.Errorf("distance() = %v, want %v", got, tt.want)
			}
		})
	}
}
